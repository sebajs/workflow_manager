digraph gfx { rankdir=TB;node [shape=circle,color=red,fixedsize=false,label="idle",peripheries=1]; "idle";
node [shape=circle,color=green,fixedsize=false,label="active",peripheries=1]; "active";
node [shape=circle,color=green,fixedsize=false,label="active\nwith\nmsgs",peripheries=1]; "active_with_msgs";
node [shape=circle,color=green,fixedsize=false,label="grace",peripheries=1]; "grace";
node [shape=circle,color=red,fixedsize=false,label="passive\naccum",peripheries=1]; "passive_accum";
node [shape=circle,color=red,fixedsize=false,label="passive\nnot\naccum",peripheries=1]; "passive_not_accum";
node [shape=circle,color=red,fixedsize=false,label="expired",peripheries=1]; "expired";
node [shape=circle,color=red,fixedsize=false,label="shutdown",peripheries=5]; "shutdown";
node [shape=box,color=black,fixedsize=false,label="idle\n.setActive",peripheries=1]; "idle.setActive";
edge [fontsize=10, label="M:deposit"] "idle"->"idle.setActive"
edge [fontsize=10, label="C: ok"] "idle.setActive"->"active"
edge [fontsize=10, label="C: error"] "idle.setActive"->"idle"
node [shape=box,color=black,fixedsize=false,label="active\n.setGrace",peripheries=1]; "active.setGrace";
edge [fontsize=10, label="Timer"] "active"->"active.setGrace"
edge [fontsize=10, label="C: ok"] "active.setGrace"->"active"
edge [fontsize=10, label="C: error"] "active.setGrace"->"grace"
node [shape=box,color=black,fixedsize=false,label="active\n.setActiveWithMsgs",peripheries=1]; "active.setActiveWithMsgs";
edge [fontsize=10, label="Timer"] "active"->"active.setActiveWithMsgs"
edge [fontsize=10, label="C: ok"] "active.setActiveWithMsgs"->"active"
edge [fontsize=10, label="C: error"] "active.setActiveWithMsgs"->"active_with_msgs"
node [shape=box,color=black,fixedsize=false,label="active_with_msgs\n.sendMessage",peripheries=1]; "active_with_msgs.sendMessage";
edge [fontsize=10, label="Timer"] "active_with_msgs"->"active_with_msgs.sendMessage"
edge [fontsize=10, label="S"] "active_with_msgs.sendMessage"->"active_with_msgs"
node [shape=box,color=black,fixedsize=false,label="active_with_msgs\n.setActive",peripheries=1]; "active_with_msgs.setActive";
edge [fontsize=10, label="M:deposit"] "active_with_msgs"->"active_with_msgs.setActive"
edge [fontsize=10, label="C: ok"] "active_with_msgs.setActive"->"active"
edge [fontsize=10, label="C: error"] "active_with_msgs.setActive"->"active_with_msgs"
node [shape=box,color=black,fixedsize=false,label="active_with_msgs\n.setGrace",peripheries=1]; "active_with_msgs.setGrace";
edge [fontsize=10, label="Timer"] "active_with_msgs"->"active_with_msgs.setGrace"
edge [fontsize=10, label="S"] "active_with_msgs.setGrace"->"grace"
node [shape=box,color=black,fixedsize=false,label="grace\n.setPassive",peripheries=1]; "grace.setPassive";
edge [fontsize=10, label="Timer"] "grace"->"grace.setPassive"
edge [fontsize=10, label="C: accumulate"] "grace.setPassive"->"passive_accum"
edge [fontsize=10, label="C: !accumulate"] "grace.setPassive"->"passive_not_accum"
node [shape=box,color=black,fixedsize=false,label="grace\n.setActive",peripheries=1]; "grace.setActive";
edge [fontsize=10, label="M:deposit"] "grace"->"grace.setActive"
edge [fontsize=10, label="C: ok"] "grace.setActive"->"active"
edge [fontsize=10, label="C: error"] "grace.setActive"->"grace"
node [shape=box,color=black,fixedsize=false,label="passive_accum\n.setActive",peripheries=1]; "passive_accum.setActive";
edge [fontsize=10, label="M:deposit"] "passive_accum"->"passive_accum.setActive"
edge [fontsize=10, label="C: ok"] "passive_accum.setActive"->"active"
edge [fontsize=10, label="C: error"] "passive_accum.setActive"->"passive_accum"
node [shape=box,color=black,fixedsize=false,label="passive_accum\n.setPassiveNotAccum",peripheries=1]; "passive_accum.setPassiveNotAccum";
edge [fontsize=10, label="Timer"] "passive_accum"->"passive_accum.setPassiveNotAccum"
edge [fontsize=10, label="C: ok"] "passive_accum.setPassiveNotAccum"->"passive_not_accum"
edge [fontsize=10, label="C: error"] "passive_accum.setPassiveNotAccum"->"passive_accum"
node [shape=box,color=black,fixedsize=false,label="passive_not_accum\n.setActive",peripheries=1]; "passive_not_accum.setActive";
edge [fontsize=10, label="M:deposit"] "passive_not_accum"->"passive_not_accum.setActive"
edge [fontsize=10, label="C: ok"] "passive_not_accum.setActive"->"active"
edge [fontsize=10, label="C: error"] "passive_not_accum.setActive"->"passive_not_accum"
node [shape=box,color=black,fixedsize=false,label="passive_not_accum\n.expropiateBalance",peripheries=1]; "passive_not_accum.expropiateBalance";
edge [fontsize=10, label="Timer"] "passive_not_accum"->"passive_not_accum.expropiateBalance"
edge [fontsize=10, label="S"] "passive_not_accum.expropiateBalance"->"passive_not_accum"
node [shape=box,color=black,fixedsize=false,label="passive_not_accum\n.setExpired",peripheries=1]; "passive_not_accum.setExpired";
edge [fontsize=10, label="Timer"] "passive_not_accum"->"passive_not_accum.setExpired"
edge [fontsize=10, label="S"] "passive_not_accum.setExpired"->"expired"
node [shape=box,color=black,fixedsize=false,label="expired\n.setActive",peripheries=1]; "expired.setActive";
edge [fontsize=10, label="M:deposit"] "expired"->"expired.setActive"
edge [fontsize=10, label="C: ok"] "expired.setActive"->"active"
edge [fontsize=10, label="C: error"] "expired.setActive"->"expired"
node [shape=box,color=black,fixedsize=false,label="expired\n.setShutdown",peripheries=1]; "expired.setShutdown";
edge [fontsize=10, label="Timer"] "expired"->"expired.setShutdown"
edge [fontsize=10, label="S"] "expired.setShutdown"->"shutdown"
}